<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Rock Paper Scissors</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            
            game();
            function game() {
                let computerWins = 0;
                let playerWins = 0;
                for (let i = 0; i < 5; i++) {
                    let playerSelection = getplayerSelection();
                    let computerChoice = getComputerChoice();
                    playRound(playerSelection, computerChoice);
                    function playRound(playerSelection, computerChoice) {
                        if ((playerSelection == "rock" && computerChoice == "paper") || (playerSelection == "paper" && computerChoice == "scissors") || (playerSelection == "scissors" && computerChoice == "rock")) {
                            alert("You lose");
                            ++computerWins;
                        } else if ((playerSelection == "paper" && computerChoice == "paper") || (playerSelection == "rock" && computerChoice == "rock") || (playerSelection == "scissors" && computerChoice == "scissors")) {
                            alert('tie');
                        } else if ((playerSelection == "paper" && computerChoice == "rock") || (playerSelection == "scissors" && computerChoice == "paper") || (playerSelection == "rock" && computerChoice == "scissors")) {
                            alert("You win");
                            ++playerWins;
                        } else {
                            alert("error, reload page");
                        }
                        console.log(playerSelection);
                        console.log(computerChoice);
                        console.log(computerWins + " :Computer");
                        console.log(playerWins + " :Player");
                    }

                
                

                    function getComputerChoice(choice) {
                    choice = Math.floor(Math.random() * 100);

                        if (choice >= 66) {
                            choice = "rock"
                        } else if (choice > 33 && choice < 66) {
                            choice = "scissors"
                        } else if (choice <= 33) {
                            choice = "paper"   
                        } 
                        return choice;
                    }
                    function getplayerSelection(playerSelection) {
                        playerSelection = prompt("Rock, Paper, or Scissors?", '');
                        playerSelection = playerSelection.toLowerCase();
                        return playerSelection;
                    }

                }
                
                if (computerWins > playerWins) {
                     alert("You lost Everything");
                } else if (computerWins < playerWins) {
                    alert("You win everything");
                } else {
                    alert("maltfunction, tie")
                }
                
            }
        </script>
    </body>
</html>